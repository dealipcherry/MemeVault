# MemeVault Project

---

## 1. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
---
### 1.1 –ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–µ—Å—Ç–∏ –≤ –ª—é–±–æ–º Telegram-—á–∞—Ç–µ:

@–Ω–∞–∑–≤–∞–Ω–∏–µ_–±–æ—Ç–∞ + –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞


–ù–∞–ø—Ä–∏–º–µ—Ä:

@meme_finder_bot –º–Ω–µ –º–∞–º–∞ –≤ –¥–µ—Ç—Å—Ç–≤–µ –≤—ã–∫–æ–ª–æ–ª–∞ –≥–ª–∞–∑–∫–∏


–ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –ø–æ–¥–±–æ—Ä–∫—É –∫–∞—Ä—Ç–∏–Ω–æ–∫/–≥–∏—Ñ–æ–∫/–≤–∏–¥–µ–æ –∏–∑ —Å–≤–æ–µ–π –±–∞–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –ø–æ —Ç–µ–≥–∞–º –∏ –æ–ø–∏—Å–∞–Ω–∏—é. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç inline-–≤—ã–¥–∞—á—É –ø—Ä—è–º–æ –≤ —á–∞—Ç–µ: –º–∏–Ω–∏–∞—Ç—é—Ä—ã, –ø–æ–¥–ø–∏—Å–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –º–µ–º.

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:**

* Inline-–ø–æ–∏—Å–∫ –º–µ–º–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
* –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä—è–º–æ –≤ —á–∞—Ç–µ
* –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –º–µ–º–æ–≤ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º

#### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞           | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª                                                                |
| ----------------- | ------------------------------------------------------------------------- |
| /start            | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞                                             |
| /help             | –í—ã–≤–æ–¥–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥                                          |
| /add_meme         | –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤–æ–π –º–µ–º (—Ñ–æ—Ç–æ/–≥–∏—Ñ/–≤–∏–¥–µ–æ) –∏ —É–∫–∞–∑–∞—Ç—å —Ç–µ–≥–∏ |
| /list_my_memes    | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∑–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å                            |
| /delete_meme <id> | –£–¥–∞–ª—è–µ—Ç –æ–¥–∏–Ω –∏–∑ —Å–≤–æ–∏—Ö –º–µ–º–æ–≤                                               |

### 1.2 –ó–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å

1. **–°–æ–∑–¥–∞—Ç—å Telegram inline-–±–æ—Ç–∞ –Ω–∞ aiogram**
   * –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
   * –æ–±—Ä–∞–±–æ—Ç–∫–∞ inline_query

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å HTTP‚Äë–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Telegram API**
   * –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç Telegram
   * –æ—Ç–ø—Ä–∞–≤–∫–∞ inline‚Äë–æ—Ç–≤–µ—Ç–æ–≤

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL**
   * —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –º–µ–º–æ–≤
   * –ø–æ–¥–∫–ª—é—á–∏—Ç—å SQLAlchemy (async)
   * —Å–∫—Ä—ã—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ .env

4. **–î–æ–±–∞–≤–∏—Ç—å ORM‚Äë–º–æ–¥–µ–ª—å –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –º–µ–º–æ–≤**
   * –º–æ–¥–µ–ª–∏ SQLAlchemy
   * –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

5. **–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å–µ—Ä–≤–∏—Å –ø–æ–∏—Å–∫–∞ –º–µ–º–æ–≤**
   * –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞
   * –∑–∞–ø—Ä–æ—Å—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

6. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ inline‚Äë–∑–∞–ø—Ä–æ—Å–æ–≤**
   * –ø–æ–∏—Å–∫ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –ø–æ —Å–ª–æ–≤–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   * —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON‚Äë–æ—Ç–≤–µ—Ç–∞

7. **–ü–æ–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç —Ç–µ—Å—Ç–∞–º–∏ (pytest + pytest-asyncio)**
   * —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞
   * —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
   * —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä–∞

8. **–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–º–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**
   * —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É /add_meme
   * —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ / –≥–∏—Ñ / –≤–∏–¥–µ–æ
   * –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ —Ç–µ–≥–æ–≤ –≤ –ë–î

9. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Docker –∏ –¥–µ–ø–ª–æ–π**
   * —Å–æ–∑–¥–∞—Ç—å Dockerfile
   * –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å docker-compose
   * –≤—ã–ª–æ–∂–∏—Ç—å –æ–±—Ä–∞–∑ –≤ Docker Hub

---

### 1.3 –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ –∑–∞–¥–∞—á–∞–º

| –ó–∞–¥–∞—á–∞                                         | –í—Ä–µ–º—è     |
| ---------------------------------------------- | --------- |
| –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å aiogram inline mode              | 6 —á–∞—Å–æ–≤ |
| –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞                  | 2 —á–∞—Å–∞    |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è HTTP-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ aiogram | 3 —á–∞—Å–∞    |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL + SQLAlchemy async        | 8 —á–∞—Å–æ–≤ |
| –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤                | 5 —á–∞—Å–æ–≤ |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è SearchService                       | 3 —á–∞—Å–∞    |
| Inline‚Äë–æ–±—Ä–∞–±–æ—Ç—á–∏–∫                              | 3 —á–∞—Å–∞    |
| –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤                               | 8 —á–∞—Å–æ–≤ |
| Docker-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π                   | 4 —á–∞—Å–∞    |
| –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏                        | 4 —á–∞—Å–∞    |

**–û–±—â–µ–µ –≤—Ä–µ–º—è: ~46 —á–∞—Å–æ–≤**

---

### 1.4 –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π –≤ –∫–æ–º–∞–Ω–¥–µ

–í–∞—Å–∏–ª—å–µ–≤–∞ –ê–ª–∏–Ω–∞ –≤—Å–µ –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–∞ üò≠

---

## 2. –°—Ö–µ–º—ã
---
### –ë–ª–æ–∫-—Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

```mermaid
flowchart TD
A([–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç: @bot + –∑–∞–ø—Ä–æ—Å]) --> B{–ü–æ–ª—É—á–µ–Ω inline_query?}
B -->|–î–∞| C[–ü–∞—Ä—Å–∏–º —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞]
B -->|–ù–µ—Ç| Z[–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º]
C --> D{–ï—Å—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–µ–º—ã?}
D -->|–î–∞| E[–§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤]
D -->|–ù–µ—Ç| F[–ú–µ–º—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã]
E --> G[answerInlineQuery]
F --> G
G --> H([Telegram –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã])
```
---

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
```mermaid
sequenceDiagram
    participant U as User
    participant T as Telegram
    participant B as Bot Server
    participant DB as Database

    U->>T: @bot "–æ–±–µ–∑—å—è–Ω–∞"
    T->>B: inline_query
    B->>DB: SELECT * FROM memes WHERE ...
    DB-->>B: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
    B->>T: answerInlineQuery
    T-->>U: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–º—ã
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞
```mermaid
flowchart TD
U[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> TG[Telegram API]
TG --> H[Handlers]
H --> S[SearchService]
S --> R[Repository]
R --> DB[(PostgreSQL)]

subgraph Docker
    B[Bot Container]
    P[PostgreSQL Container]
end
```

### ER-–º–æ–¥–µ–ª—å –ë–î
```mermaid
erDiagram
    USER {
        int id PK "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
        string telegram_id "ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram"
        string username "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
        datetime created_at "–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"
    }
    
    MEME {
        int id PK "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–µ–º–∞"
        string title "–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ–º–∞"
        string description "–û–ø–∏—Å–∞–Ω–∏–µ"
        string file_id "ID —Ñ–∞–π–ª–∞ –≤ Telegram"
        string file_type "–¢–∏–ø —Ñ–∞–π–ª–∞: photo/gif/video"
        string tags "–¢–µ–≥–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é"
        datetime created_at "–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è"
        int user_id FK "–í–ª–∞–¥–µ–ª–µ—Ü –º–µ–º–∞"
    }
    
    USER ||--o{ MEME : uploads
```
